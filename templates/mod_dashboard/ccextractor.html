{% extends "layout.html" %}

{% block body %}
    {{ super() }}
    <div class="">
        <div class="">
            <p>CCExtractor Version</p>
        </div>
    </div>

    {%  if type == 'new' %}
    <form method="post" name="ccextractorForm" id="ccextractorForm" enctype=multipart/form-data action="{{ url_for('.admin', next=next) }}">
        {{ ccextractor_form.csrf_token }}

        <div class="">
            <div class="">
                {{ macros.render_field(ccextractor_form.version) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_form.commit) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_form.linux_executable_path) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_form.windows_executable_path) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_form.windows_executable_path) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_form.submit) }}
            </div>
        </div>
    </form>

    <div>
    <h1>CCextractor</h1>
    {% for c in ccextractor %}
        {{ c.id }} | {{ c.version }} | {{ c.commit }} | {{ c.linux_executable_path }} | {{ c.windows_executable_path }} | {{ c.mac_executable_path }} <br>
    {% endfor %}
    </div>
    {% endif %}

    {% if type == 'update' %}
        <form method="post" name="ccextractorUpdateForm" id="ccextractorUpdateForm" enctype=multipart/form-data action="{{ url_for('.admin', next=next) }}">
        {{ ccextractor_update_form.csrf_token }}

        <div class="">
            <div class="">
                {{ macros.render_field(ccextractor_update_form.version) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_update_form.commit) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_update_form.linux_executable_path) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_update_form.windows_executable_path) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_update_form.windows_executable_path) }}
            </div>
            <div class="">
                {{ macros.render_field(ccextractor_update_form.submit) }}
            </div>
        </div>
    </form>
    {% endif %}

    <div>
    <h1>Queue</h1>
    {% for job in queue %}
        {{ job.id }} | {{ job.status.value }} | {{ job.filename }} <br>
    {% endfor %}
    </div>

    <div>
    <h1>Users</h1>
    {% for user in users %}
        {{ user.id }} | {{ user.username }} | {{ user.email }} | {{ user.account_type }}<br>
    {% endfor %}
    </div>


    {%- include 'mod_dashboard/ccextractor_paramters.html' -%}

{% endblock %}
